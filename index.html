<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Item JSON Generators</title>

<style>
/* === SAME STYLE AS BEFORE (UNCHANGED) === */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Segoe UI', monospace;
    cursor: none !important;
}

body {
    background-color: #000;
    color: #fff;
    padding: 40px 20px;
    background-image:
        linear-gradient(rgba(50,50,50,.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(50,50,50,.1) 1px, transparent 1px);
    background-size: 20px 20px;
}

.tools-container {
    max-width: 2100px;
    margin: auto;
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
}

.container {
    width: 1000px;
    background: #0a0a0a;
    border-radius: 20px;
    border: 1px solid #444;
    box-shadow: 0 0 40px rgba(255,255,255,.15);
    overflow: hidden;
}

header {
    background: #111;
    padding: 25px;
    text-align: center;
    border-bottom: 2px solid #fff;
}

h1 {
    font-weight: 300;
    letter-spacing: 2px;
    text-transform: uppercase;
}

.subtitle {
    color: #aaa;
    font-size: .9rem;
}

.main-content {
    display: flex;
    flex-wrap: wrap;
    padding: 20px;
}

.input-section, .output-section {
    flex: 1;
    min-width: 300px;
    padding: 20px;
    background: #111;
    border-radius: 10px;
    border: 1px solid #333;
    margin: 10px;
}

.btn {
    width: 100%;
    padding: 12px;
    background: #000;
    color: #fff;
    border: 1px solid #fff;
    border-radius: 8px;
    margin-top: 10px;
    cursor: pointer;
}

.btn:disabled {
    opacity: .4;
}

.status {
    margin-top: 15px;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #555;
    font-size: .85rem;
    text-align: center;
}

.status.success { color: #fff; }
.status.error { color: #ff4444; }
.status.info { color: #aaa; }

.json-output {
    background: #000;
    border: 1px solid #333;
    border-radius: 8px;
    padding: 15px;
    height: 400px;
    overflow-y: auto;
    font-size: .8rem;
    white-space: pre-wrap;
}

.stats {
    display: flex;
    justify-content: space-between;
    margin-bottom: 15px;
}

.stat-value {
    font-size: 1.2rem;
    font-weight: bold;
}
</style>
</head>

<body>

<div class="tools-container">

<!-- ================= GIVEAWAY ================= -->
<div class="container">
<header>
<h1>Giveaway Bag Gen</h1>
<p class="subtitle">Auto-loaded econ items</p>
</header>

<div class="main-content">
<div class="input-section">
<div class="stats">
<div>
<div class="stat-value" id="giveawayItemCount">0</div>
<div>Items Loaded</div>
</div>
<div>
<div class="stat-value" id="giveawayHeartgunCount">5</div>
<div>Heart Guns</div>
</div>
</div>

<label>Amount of Heart Guns</label>
<input type="number" id="giveawayAmount" value="5" min="1" max="100">

<button class="btn" id="giveawayGenerate" disabled>Generate JSON</button>
<button class="btn" id="giveawayDownload" disabled>Download</button>

<div class="status info" id="giveawayStatus">Loading econ JSON…</div>
</div>

<div class="output-section">
<div class="json-output" id="giveawayOutput">// waiting for data…</div>
</div>
</div>
</div>

<!-- ================= GRENADE ================= -->
<div class="container">
<header>
<h1>Grenade Launcher Gen</h1>
<p class="subtitle">Auto-loaded econ items</p>
</header>

<div class="main-content">
<div class="input-section">
<div class="stats">
<div>
<div class="stat-value" id="grenadeItemCount">0</div>
<div>Items Loaded</div>
</div>
<div>
<div class="stat-value" id="grenadeCount">5</div>
<div>Launchers</div>
</div>
</div>

<label>Amount of Launchers</label>
<input type="number" id="grenadeAmount" value="5" min="1" max="100">

<button class="btn" id="grenadeGenerate" disabled>Generate JSON</button>
<button class="btn" id="grenadeDownload" disabled>Download</button>

<div class="status info" id="grenadeStatus">Loading econ JSON…</div>
</div>

<div class="output-section">
<div class="json-output" id="grenadeOutput">// waiting for data…</div>
</div>
</div>
</div>

</div>

<script>
const ECON_URL =
"https://raw.githubusercontent.com/wa1dowebsites/wa1do.pythonanywhere.com/refs/heads/main/econ_gameplay_items.json";

let ITEM_IDS = [];

async function loadEcon() {
    try {
        const res = await fetch(ECON_URL);
        const json = await res.json();

        ITEM_IDS = json.map(i => i.id).filter(Boolean);

        document.getElementById("giveawayItemCount").textContent = ITEM_IDS.length;
        document.getElementById("grenadeItemCount").textContent = ITEM_IDS.length;

        document.getElementById("giveawayGenerate").disabled = false;
        document.getElementById("grenadeGenerate").disabled = false;

        document.getElementById("giveawayStatus").textContent =
            `Loaded ${ITEM_IDS.length} items from GitHub`;
        document.getElementById("grenadeStatus").textContent =
            `Loaded ${ITEM_IDS.length} items from GitHub`;

    } catch (e) {
        document.getElementById("giveawayStatus").textContent = "Failed to load econ JSON";
        document.getElementById("grenadeStatus").textContent = "Failed to load econ JSON";
    }
}

function randomItem() {
    return ITEM_IDS[Math.floor(Math.random() * ITEM_IDS.length)];
}

document.getElementById("giveawayGenerate").onclick = () => {
    const amount = +document.getElementById("giveawayAmount").value;
    document.getElementById("giveawayHeartgunCount").textContent = amount;

    const data = {
        version: 1,
        items: [{
            itemID: "item_crowbar",
            stashPos: 0,
            stuckChildren: Array.from({length: amount}, () => ({
                item: {
                    itemID: "item_heart_gun",
                    scaleModifier: -128,
                    children: Array.from({length: 23}, () => ({
                        itemID: randomItem()
                    }))
                }
            }))
        }],
        materials: []
    };

    document.getElementById("giveawayOutput").textContent =
        JSON.stringify(data, null, 2);
    document.getElementById("giveawayDownload").disabled = false;
};

document.getElementById("grenadeGenerate").onclick = () => {
    const amount = +document.getElementById("grenadeAmount").value;
    document.getElementById("grenadeCount").textContent = amount;

    const data = {
        version: 1,
        items: [{
            itemID: "item_arrow",
            stashPos: 0,
            stuckChildren: Array.from({length: amount}, () => ({
                item: {
                    itemID: "item_grenade_launcher",
                    scaleModifier: -128,
                    children: Array.from({length: 5}, () => ({
                        itemID: randomItem()
                    }))
                }
            }))
        }],
        materials: []
    };

    document.getElementById("grenadeOutput").textContent =
        JSON.stringify(data, null, 2);
    document.getElementById("grenadeDownload").disabled = false;
};

loadEcon();
</script>

</body>
</html>
